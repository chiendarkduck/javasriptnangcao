<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>


    const callback=(error,data)=>{
        if(error){
            console.log('error calling callback',error);
        }
        if(data){
            console.log('calling callback',data);
        }
            
    }
    Gettodos=(id,callback)=>{
        return new Promise((resolve,reject)=>{
            var reques = new XMLHttpRequest();
        
        reques.onreadystatechange = function() {
        if (this.readyState == 4 && reques.status===200) {
        // Typical action to be performed when the document is ready:
            // console.log('check ress',reques);
            const data = JSON.parse(reques.responseText);
            const dataString = JSON.stringify(data);
            // callback(undefined,data);
            // callback(undefined,dataString);
            // callback(undefined, reques.responseText);
            resolve(data);
        }
        if(this.readyState===4 && reques.status !== 200){
            // callback('something wrong', undefined)
            reject('some thing wrong whith id'+id)
        }
    };
    reques.open("GET", `https://jsonplaceholder.typicode.com/todos/${id}`, true);
    reques.send();
        })
        
    }

    Gettodos(1)
    .then(data=>{
        console.log('get data',data)
        return Gettodos(2)
    }).then(data2=>{
        console.log('data 2',data2)
        return Gettodos(3)
    })
    .then(data3=>{
        console.log('data 3',data3)
    })

    .catch(err=>{
        console.log('error', err)
    })

    // Gettodos(1).then(data=>{
    //     console.log('get data',data)
    // })
    // .catch(err=>{
    //     console.log('error', err)
    // })


    // Gettodos(1,(error,data)=>{
    //     if(error){
    //         console.log('error calling callback',error);
    //     }
    //     if(data){
    //         console.log('calling callback',data);
    //         Gettodos(2,(error,data)=>{
    //             if(error){
    //                 console.log('error calling callback',error);
    //             }
    //             if(data){
    //                 console.log('calling callback',data);
    //                 Gettodos(3,(error,data)=>{
    //                     if(error){
    //                         console.log('error calling callback',error);
    //                     }
    //                     if(data){
    //                         console.log('calling callback',data);
                            
    //                     }
    //                 })
    //             }
    //         })
    //     }
    // })
    const promiseExp=()=>{
        return new Promise((resolve,reject)=>{
            // resolve({name:"hoi dan it", chanel:"chien"})
            reject("have a prolem")
        })
    }
    // promiseExp()
    //     .then(data=>{
    //         console.log(data)
    //     })
    //     .catch(error=>{
    //         console.log(error)
    //     })
        
</script>
<body>
    <h1>Hello World</h1>
</body>
</html>